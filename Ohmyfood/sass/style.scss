@import "./base/base";
@import "./base/normalize";
@import "./base/typography";

@import "./utils/variables";
@import "./utils/functions";
@import "./utils/mixins";
@import "./utils/extensions";
@import "./utils/loops";

@import "./layout/header";
@import "./layout/nav";
@import "./layout/container";
@import "./layout/form";
@import "./layout/responsive";

@import "./components/buttons";

@import "./pages/homepage";
@import "./pages/restaurants_pages";

/*utils et variables*/
$color-primary:#9356DC;
$color-secondary:#FF79DA;
$color-tertiary:#99E2D0;
$color-frames-primary:#F6F6F6;
$color-text-primary:black;
$color-text-secondary:darken($color-frames-primary,30%);
$color-frames-secondary:darken($color-frames-primary,10%); 
$color-frequent:#FFFFFF;
$color-gradient:linear-gradient($color-secondary, $color-primary);
$font-size-primary:17px;
$font-size-secondary:15px;
$size-frequent:20px;
$icon-font-size:$size-frequent;
$border-radius-primary:$size-frequent $size-frequent $size-frequent $size-frequent;
$border-radius-secondary:25px 25px 25px 25px;
$border-radius-tertiary:$size-frequent $size-frequent 0px 0px;
$box-shadow-primary: 4px 3px 8px $color-text-secondary;
$box-shadow-secondary:2px 5px 10px darken($color-frames-primary,50%);
$breakpoints: (
    medium-screen:768px,
    intermediate-screen:1100px,
    large-screen:1277px,
);
@mixin steps {
    height:70px;
    border-radius: $border-radius-primary;
    box-shadow:$box-shadow-primary;
    position:relative;
    z-index:1; 
}
@mixin pseudo-element {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
}
@mixin medium-screen {
    @media screen and (min-width: map-get($breakpoints, medium-screen)) {
    @content;
    }
}
@mixin intermediate-screen {
    @media screen and (min-width: map-get($breakpoints, intermediate-screen)) {
    @content;
    }
}
@mixin large-screen {
    @media screen and (min-width: map-get($breakpoints, large-screen)) {
    @content;
    }
}
/*début loading spinner pour ce projet*/

@mixin fa-martini-glass-citrus {
    font-size:50px;
    font-weight:bold;
    color: #99E2D0;
}
.loading-spinner {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    position: fixed;
    opacity:0.90;
    background-color: $color-frequent;
    animation: end-loader 4000ms both;
    &::before {
        position: absolute;
        content: '';
        display: block;
        height: 150px;
        width:200px;
        border-radius: 30%;
        border: 5px solid $color-secondary;
        border-left-color:$color-primary;
        border-right-color:$color-primary;
    }
    & > .fa-martini-glass-citrus--left {
            font-size:50px;
            font-weight:bold;
            animation: loading-spinner-glass-toast 2000ms 100ms infinite linear ;
            color: #99E2D0;  
            animation-iteration-count: 2;
    }
        & > .fa-martini-glass-citrus--right {
            @include fa-martini-glass-citrus;
            animation: loading-spinner-glass-toast-reverse 2000ms 100ms infinite linear reverse;
            animation-iteration-count: 2;
    }    
        
}

@keyframes loading-spinner-glass-toast {
    0% {
		transform: translateX(0%); 
	}
    20% {
		transform: translateX(20%) ;
	}
	40% {
		transform: translateX(40%) ;
	}
    60% {
		transform: translateX(90%);
	}
    90%,100% {
        transform: rotate(-10deg) translateY(20%) ;
    }
    
	100% {
		transform:  translate(90%, 10%) ;
	}
 }
    @keyframes loading-spinner-glass-toast-reverse {
        0% {
            transform: translateX(0%); 
        }
        20% {
            transform: translateX(20%) ;
        }
        40% {
            transform: translateX(40%) ;
        }
        60% {
            transform: translateX(60%);
        }
        90% {
            transform: rotate(10deg) translateY(-20%) 
        }
        90%,100% {
            transform:  translate(90%, 10%)   ;
        }
        100% {
            transform:  translate(0%, 0%) ;
        }
}
@keyframes end-loader {
    0% {
        opacity: 0.9;
        z-index: 10;
    }
    70% {
        opacity: 0.9;
        z-index: 10;
    }
    80% {
        opacity: 0.8;
        z-index: 10;
    }
    90%,100% {
        opacity: 0;
        display: none;
        z-index: 10;
    }
    
    100% {
        z-index: -1;
    }
}

/*fin loading spinner pour ce projet*/
body {
    background-color:$color-frequent;
    word-wrap: break-word;
    font-family: Roboto, sans-serif;
    display:flex;
    width:100%;
    }
main {
    width:100%;
    display: flex;
    flex-direction: column;
}
        
.welcome-page-heading {
    font-size : 27px;
    margin-right:5%;
    margin-left:5%;
            &--centered {
                text-align: center;
            
            }
}
.icon-place { /*à voir si on gard*/
    margin-right:$size-frequent;
    margin-top: 26px;
    @include medium-screen { 
    background-color: $color-text-secondary;
    border-radius:25px 0px 0px 25px;
    height: 20px;
    width: 44px;
    margin-right: 0px;
    padding-top: 15px;
    padding-bottom: 15px;
    padding-left: 5px;
    margin-top: 10px;
}
}
.icon {
    font-size:$icon-font-size;
}
.header {
    display: flex;
    background-color: $color-frequent;
    width: 100%;
    &_link-field-on-logo {
        margin: auto;
        height: 50px;
        display: flex;
        align-items: center;
       &--restaurant-page {
            padding-left:90px;
       }
    }
    &_link-field-on-arrow {
        margin:20px -128px 20px 20px;
       height: 22px;
       font-size:$size-frequent;
       width:$size-frequent;
       color:$color-text-primary;
    }
}
.section {
    display: flex;
    width: 100%;
    background-color:$color-frames-primary;
    flex-direction: column;
}
.section > div  {
    display:flex;
    
}
.section > div > div {
    display:flex; 
}

.link {
    display:flex;
    text-decoration: none;
 }
 
.form {
    display: flex;
    text-align: center;
    align-items: center;
    flex-direction: column;
    @include medium-screen {
        background-color:$color-frequent;
    }
    &_location-field {
        display:flex;
        background-color:$color-frames-secondary;/*vérifier que l-syntaxe ok*/
        justify-content:center;
        width:100%;
        margin-bottom:10px;
        
        @include medium-screen {
            order:2;
            align-self: flex-end;
            background-color:$color-primary;
        }
    }
    &_location-text {
            background-color: $color-frames-secondary;/*vérifier que la syntaxe ok*/
            font-size: $font-size-primary;
            border:none;
            margin-top:10px;
            @include medium-screen {
                display:flex;
                text-align: center;
                flex-wrap: wrap;
                align-items: flex-start;
                border: 1px solid $color-text-secondary;
                height:46px;
            }
            &:focus {
                outline:none;
            }
    }
    &_information {
        margin:auto;
        width:85%;
        @include medium-screen {
            order:1;
            background-color: $color-frames-primary;
            width:100%;
            & > .welcome-page-heading--centered {
                @include medium-screen {
                  margin-right:0;
                }
            }
        }
            &_subtitle {
            font-size : $size-frequent;
            color:$color-text-secondary;
                &--centered {
                    text-align: center;
                }
            }
    }
} 
.btn {
    cursor:pointer;  
    margin-top:8px;
    margin-bottom: 44px;
    width: 245px;
    height: 50px;
    border-radius: $border-radius-secondary;
    background:$color-gradient;
    border:none;
    color:$color-frequent;
    align-items: center;
    justify-content: center;
    font-size:$font-size-primary;
    box-shadow:$box-shadow-primary;
    position:relative;
    z-index:1;
        &:hover {
            &::after {
            opacity:1;
            } 
        }
        &::after {
            @include pseudo-element;
            box-shadow: $box-shadow-secondary;
            background:linear-gradient(lighten($color-secondary,10%), lighten($color-primary, 10%));
            z-index:-1; /*à quoi ça sert?*/
            opacity:0;
            transition: opacity 2000ms;
            border-radius: $border-radius-secondary;
        }
}
.btn--welcome-page {
    @include medium-screen {
        display:none;
     }
}
.btn--welcome-page-responsive {
    display:none;
    @include medium-screen {
        display:flex;
        margin: 10px 0px 10px 0px;
        border-radius: 0px 25px 25px 0px;
                &::after {
                    border-radius: 0px 25px 25px 0px;
                }
        }
}
.website-running-information {
    background-color: $color-frequent;
    flex-wrap: wrap;
    &_fields{
        height:250px;
        margin-bottom: 30px;
        align-items: center;
        flex-wrap: wrap;
        justify-content: space-around;
        @include large-screen {
        height: 95px;
        }
    }
}
.steps-field {
    @include steps;
    background-color:$color-frames-primary;
    font-size:$font-size-primary*0.9; 
    width:400px;
    align-items: center;
    flex-wrap: wrap;
    margin: 0px 10px 0px 10px;
    &:hover {
        &::after {
            opacity:0.3;
        }
        & > .steps-field_image-place { 
            & > .steps-icon {
                color:$color-primary;
                opacity:0.5;
                }
        }    
    }
    &::after {
        @include pseudo-element;
        box-shadow: $box-shadow-secondary;
        z-index:-1; 
        opacity:0;
        transition: opacity 2000ms;
        border-radius: $border-radius-primary;
        background-color:#FF79DA;
    }
    &_number-place {
        background-color: $color-primary;
        color:$color-frequent;
        border-radius:$border-radius-secondary;
        width:25px;
        height:21px;
        padding-top:4px;
        text-align: center;
        margin-left:-10px;
        margin-right: 0;
    }
    &_image-place {
        margin-left:$size-frequent;
        margin-right:$size-frequent;
        color:$color-text-secondary; 
    }
}
.restaurants { 
    align-items:center;
    display: flex;
    flex-wrap:wrap;
    justify-content: space-around;
    margin-bottom:30px;
    &_card {
        box-shadow:$box-shadow-primary;
        border-radius: $border-radius-primary;
        margin-bottom: 30px;
        height:300px;
        width:400px;
        &:hover {
            transition:transform 300ms;
            transform:scale(1.05);
            box-shadow:$box-shadow-secondary;
        }
        @include medium-screen {
            margin-left:30px;
        }
            &_link-field {
                width:100%;
                height:77%;
                flex-direction: column;
                text-decoration:none;
                color:$color-text-primary;
                position:relative;
                align-self: center;
                &_image {
                    object-fit:cover;
                    height:100%;
                    border-radius: $border-radius-tertiary;
                    } 
                &_frame-for-new-information {
                    width:30%;
                    padding:5px 0px 5px 0px;
                    background-color:$color-tertiary;
                    text-align: center;
                    align-self:baseline;
                    position:absolute;
                    top: 0px;
                    right: 16px;
                    }   
                &_comments {
                    display:flex;
                    align-self:flex-start;
                    &_field {
                        width:80%;
                        margin-left:10px;
                        display:flex;
                        flex-direction:column;
                        &_link-for-comments {
                            flex-direction:column;
                            color:$color-text-primary;
                            &_restaurant-name {
                                font-size:$font-size-primary;
                                font-weight:bold;
                                margin-bottom:0;
                            }
                            &_restaurant-location-name {
                                font-size:$font-size-secondary;
                                margin-top:5px;
                            }
                        }
                    }
                }
            }
        }
    }
    .heart-icon-place {
     position:relative;
    }
    .fas-heart,.far-heart {
        font-size:25px; 
        position:absolute;
        left:4px;
        bottom:29px;
        cursor: pointer;
    }
    .fas-heart {
        color:transparent;
        background-image: linear-gradient(to top,$color-secondary, $color-primary);
        background-clip: text;
        -webkit-background-clip:text;
        opacity:0;
        transition:all 1500ms ease-in-out;
        // scale:1;
        &:active {
            opacity:1;
            transform: scale(1.1, 1.1);
        }
        @include intermediate-screen {
            &:hover {
                opacity:1;
                transform: scale(1.1, 1.1);
            }
       }
 }
.far-heart {
    color:darken($color-frames-secondary,10%);
}
.footer {
    background-color:$color-text-primary;
    color:$color-frequent;
    &_logo {
        color:$color-frequent;
        font-family:Shrikhand, sans-serif;
        font-size: 20px;
        margin-bottom:15px;
        padding-left:30px;
    }
    &_field {
        flex-direction: column;
        padding-bottom:26px;
        @include medium-screen {
            flex-direction: row;
            justify-content: space-between;
            margin-right:141px;
            
        }
        &_for-information {
        display:flex;
        color:white; 
            &_link {
                color:$color-frequent;
                padding-left:30px;
                &_icone-place {
                    margin-left:0;
                    margin-right:10px;
                }
            }
        }
    } 
}

/*page restaurant la palette du goût*/
.restaurant {    
    &_image-place {
       height:300px;
        width:100%;
        margin-bottom:-20px;
            &_image {
                object-fit:cover;
                height:100%; 
                width:100%;
            } 
    }
    &_presentation {
        align-items: center;
        border-radius:$border-radius-tertiary;
        background-color: $color-frequent;
        &_menu {
            align-items: center;
            flex-direction:column;
            width:100%;
            @include intermediate-screen {
                align-items: center;
            }
            &_heading-place {
                display: flex;
                justify-content: center;
                text-align: center;
                width:400px;
                &_heading {
                    font-family:Shrikhand, sans-serif;
                    width:100%;
                    }
                &_heart {
                    display: flex;
                    width:60px;
                }
                }
            }
        }
     }
.menu-form {
        display: flex;
        width:100%;
        justify-content: space-around;
        flex-direction: column;
        align-items: center;
        @include intermediate-screen {
            flex-direction: row;
            justify-content: center;
            align-items: center;
         }
    }
     $numb-menu-steps:3;
     $anim-duration:300ms;
     $anim-delay:$anim-duration;
     @keyframes opacity-effect {
        0% {
            opacity:0; 
        }
        100% {
            opacity:1;
        }
    }
.menu-step {
    display: flex;
    flex-direction: column;
    height:310px;
    width:440px;
    margin-bottom: 40px;
    opacity:0;
    animation:opacity-effect 2000ms forwards;
    justify-content: space-between;
    
        
    @for $i from 1 through $numb-menu-steps {
        &--#{$i} {
            animation-delay:$anim-delay * $i;
        }
    }
    &_heading {
    color:grey;
    position:relative;
    font-size:20px; 
    padding-left:44px;
    &::after {
    background-color: #99E2D0;
    height: 3px;
    width: 40px;
    content: "";
    position: absolute;
    top: 23px;
    left: 44px;
    }
} 
    &_comments {
        display:flex;
        flex-direction: column;
        justify-content: space-between;
        height:300px;
        padding-left:10%;
        width:94%;
        @include intermediate-screen {
            flex-direction: column;
        }     
            &_field {     
                @include steps;
                @include intermediate-screen {
                        width:276px;
                        margin-right: 20px;
                    } 
                    @include large-screen {
                        width:320px;
                    } 
                display:flex; 
                background-color:$color-frequent;
                align-items: center;
                flex-direction:row;
                width:86%;
                cursor:pointer;
                    &:active {
                        & > .menu-step_comments_field_price-selection-field {
                                margin-right:0;
                            & > .menu-step_comments_field_price-selection-field_selection {
                                    opacity:1;
                                    transition:opacity 2000ms 50ms;
                                    & > .check-icon {
                                        animation:rotation-three-quarters 2000ms 150ms;
                                        background-color:$color-tertiary;
                                        color:$color-frequent;
                                        background-clip: text;
                                        -webkit-background-clip: text;
                                        border-radius: $border-radius-secondary;
                                    }
                                } 
                        }
                    }
                    @include medium-screen {
                        &:hover {
                            & > .menu-step_comments_field_price-selection-field {
                                margin-right:0;
                            & > .menu-step_comments_field_price-selection-field_selection {
                                    opacity:1;
                                    transition:opacity 2000ms 50ms;
                                    & > .check-icon {
                                        animation:rotation-three-quarters 2000ms 150ms;
                                        background-color:$color-tertiary;
                                        color:$color-frequent;
                                        background-clip: text;
                                        -webkit-background-clip: text;
                                        border-radius: $border-radius-secondary;
                                    }
                                } 
                            }
                        }
            
                    }
                &_details {
                    display:flex;
                    flex-direction: column;
                    width:100%;
                    overflow:hidden;
                    &_name{ 
                        font-size:$font-size-primary*1.1;
                        font-weight:bold;
                        margin-bottom:0;
                        overflow:hidden;
                        text-overflow:ellipsis;
                        white-space:nowrap;
                    }
                    &_additionnal-information {
                        font-size:$font-size-secondary;
                        margin-top:5px;
                        overflow:hidden;
                        text-overflow:ellipsis;
                        white-space:nowrap;
                    }
                }
                &_price-selection-field {
                    display:flex;
                    margin-left:0px;
                    width:110px;
                    height:100%;
                    align-items:flex-end;
                    border-radius:0px 20px 20px 0px;
                    margin-right:-53px;
                    justify-content:flex-end;
                    &_price {
                        display:flex;
                        align-items: center;
                        justify-content: center;
                        height:100%;
                        width:55px;
                    }
                &_selection {
                    height:100%;
                    background-color:#99E2D0;
                    width:55px;
                    border-radius:0px 20px 20px 0px;
                    display:flex;
                    align-items: center;
                    justify-content: center;
                    opacity:0;
                    } 
                }
            } 
        }
    }
    
        @keyframes rotation-three-quarters {
            from {
                transform:rotate(270deg);
            }
            to {
                transform:rotate(0deg);
            }
        }
   

        


 