@import "./base/base";
@import "./base/normalize";
@import "./base/typography";

@import "./utils/variables";
@import "./utils/functions";
@import "./utils/mixins";
@import "./utils/extensions";
@import "./utils/loops";

@import "./layout/header";
@import "./layout/nav";
@import "./layout/container";
@import "./layout/form";
@import "./layout/responsive";

@import "./components/buttons";

@import "./pages/homepage";
@import "./pages/restaurants_pages";

/*utils et variables*/
$color-primary:#9356DC;
$color-secondary:#FF79DA;
$color-tertiary:#99E2D0;
$color-frames-primary:#F6F6F6;
$color-text-primary:black;
$color-text-secondary:darken($color-frames-primary,30%);
$color-frames-secondary:darken($color-frames-primary,10%); /*à valider???? fonctionne mais plutôt mixin*/
$color-frequent:#FFFFFF;
$color-gradient:linear-gradient($color-secondary, $color-primary);
$font-size-primary:17px;
$font-size-secondary:15px;
$size-frequent:20px;
$icon-font-size:$size-frequent;
$border-radius-primary:$size-frequent $size-frequent $size-frequent $size-frequent;
$border-radius-secondary:25px 25px 25px 25px;
$border-radius-tertiary:$size-frequent $size-frequent 0px 0px;
$box-shadow-primary: 4px 3px 8px $color-text-secondary;


/*à supprimer par la suite*/
@mixin border-test ($color:$color-text-primary){
    border: 2px $color solid;
}
@mixin text-primary { /*à utiliser pour le texte en gras sur les menus garder et traduire en  anglais certains commentaires*/ 
    font-size : $font-size-primary;
    font-weight: bold;
}
@mixin text-complementary {/*à utiliser pour le texte en gras sur les menus*/
    font-size: $font-size-secondary;
    color: $color-frames-secondary;
}
@mixin welcome-page-heading {
    font-size : 27px;
    margin-right:5%;
    margin-left:5%;
}
@mixin pseudo-element {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
}

body {
    background-color:$color-frequent;
    word-wrap: break-word;
    font-family: Roboto, sans-serif;
    }
        
.welcome-page-heading {
    @include welcome-page-heading;
            &--centered {
                text-align: center;
            }
}
.icon-place { /*à voir si on gard*/
    margin-right:$size-frequent;
}
.icon {
    font-size:$icon-font-size;
}

.header {
    display: flex;
    background-color: $color-frequent;
    width: 100%;
    &_link-field-on-logo {
        font-size: 10px;
        margin:auto;
        margin-top:10px;
        margin-bottom:10px;
        }
    &_link-field-on-arrow {
        margin:20px 20px 20px 20px;
       height: 22px;
       font-size:$size-frequent;
       width:$size-frequent;
       color:$color-text-primary;
    }
}
.section {
    display: flex;
    width: 100%;
    background-color:$color-frames-primary;
    flex-direction: column;
}
.section > div  {
    display:flex;
    width:100%;
    flex-direction:column;
    justify-content:space-between;
}
.section > div > div {
    width:100%; 
    display:flex;  
}
.link {
    display:flex;
    text-decoration: none;
 }
.form {
    text-align: center;
    &_location-field {
        display:flex;
        background-color:$color-frames-secondary;/*vérifier que l-syntaxe ok*/
        justify-content:center;
        width:100%;
        margin-bottom:10px;
    }
    &_location-text {
            background-color: $color-frames-secondary;/*vérifier que la syntaxe ok*/
            border:none;  /*vérifier que la syntaxe ok*/ /*à solutionner quand on saisit le texte la bordure apparaît*/
            // color:$color-text-primary; ne veut pas marcher
            font-size: $font-size-primary;
    }
    &_information {
        margin:auto;
        width:85%;
            &_subtitle {
            font-size : $size-frequent;
            color:$color-text-secondary;
                &--centered {
                    text-align: center;
                }
            }
    }
} 
.btn {
    cursor:pointer;  /*ne marche pas*/
    margin-top:8px;
    margin-bottom: 44px;
    width: 245px;
    height: 50px;
    border-radius: $border-radius-secondary;
    background:$color-gradient;
    border:none;
    color:$color-frequent;
    font-size:$font-size-primary;
    box-shadow:$box-shadow-primary;
    position:relative;
    z-index:1;
        &:hover {
            &::after {
            opacity:1;
            } 
        }
        &::after {
            @include pseudo-element;
            box-shadow: 2px 5px 10px darken($color-frames-primary,50%);
            background:linear-gradient(lighten($color-secondary,10%), lighten($color-primary, 10%));
            z-index:-1; /*à quoi ça sert?*/
            opacity:0;
            transition: opacity 2000ms;
            border-radius: $border-radius-secondary;
        }
}
.website-running-information {
    background-color: $color-frequent;
    &_fields{
        align-items:center;
        height:250px;
        margin-bottom: 30px;   
        justify-content: space-between;
    }
}
@mixin steps {
    height:70px;
    border-radius: $border-radius-primary;
    box-shadow:$box-shadow-primary;
    position:relative;
    cursor:pointer;
    z-index:1; 
}
.steps-field {
    @include steps;
    align-items: center;
    background-color:$color-frames-primary;
    font-size:$font-size-primary*0.9;  
    
    &:hover {
        &::after {
            opacity:0.3;
        }   
    }
    &::after {
        @include pseudo-element;
        box-shadow: 2px 5px 10px darken($color-frames-primary,50%);
        z-index:-1; 
        opacity:0;
        transition: opacity 2000ms;
        border-radius: $border-radius-primary;
        background-color:#FF79DA;
    }
    &_number-place {
        background-color: $color-primary;
        color:$color-frequent;
        border-radius:$border-radius-secondary;
        width:$size-frequent;
        height:$size-frequent;
        margin-left:-9px;
        margin-right: 0;
        &_icon {
            font-size:$icon-font-size*0.8;
        }
    }
    &_image-place {
        margin-left:$size-frequent;
        margin-right:$size-frequent;
        color:$color-text-secondary; /*trouver le bon icone pour l'étape 3 et l'animation quand on clique rose*/
    }
}
.restaurants{ 
    align-items: center;
    &_card {
        box-shadow:$box-shadow-primary;
        border-radius: $border-radius-primary;
        margin-bottom: 30px;
        height:300px;
            &_link-field {
                width:100%;
                height:70%;
                flex-direction: column;
                text-decoration:none;
                color:$color-text-primary;
                position:relative;
                &_image {
                    object-fit:cover;
                    height:100%;
                    border-radius: $border-radius-tertiary;
                    } 
                &_frame-for-new-information {
                    width:30%;
                    padding:5px 0px 5px 0px;
                    background-color:$color-tertiary;
                    text-align: center;
                    align-self:baseline;
                    position:abolute;
                    top:20px;
                    position:absolute;
                    top: 0px;
                    right: 16px;
                    }   
                &_comments {
                    display:flex;
                    align-self:flex-start;
                    &_field {
                        width:80%;
                        margin-left:10px;
                        display:flex;
                        flex-direction:column;
                        &_link-for-comments {
                            flex-direction:column;
                            color:$color-text-primary;
                            &_restaurant-name {
                                font-size:$font-size-primary;
                                font-weight:bold;
                                margin-bottom:0;
                            }
                            &_restaurant-location-name {
                                font-size:$font-size-secondary;
                                margin-top:5px;
                            }
                        }
                    }
                }
            }
        }
    }
    .heart-icon-place {
     position:relative;
    }
    .fas,.far {
        font-size:25px; 
        position:absolute;
        left:4px;
        bottom:11px;
        transform: translateY(-50%);
    }
    .fas {
        color:transparent;
        background-image: linear-gradient(to top,$color-secondary, $color-primary);
        background-clip: text;
        -webkit-background-clip:text;
        opacity:0;
        transition:all 200ms ease-in-out;
        &:hover {
            opacity:1;
            transform: translateY(-50%) scale(1.1);
        }
    }
    // .heart-icon-place{ /*utilisation de background clip text?*/
    //  display:flex; 
    //  &_heart-icon {
    //     margin-top: 25px;
    //     margin-right: 20px;
    //     z-index: 1;
    //     position: relative;
    //     font-size:25px; 
    //     padding: 3px;
    //     height: 25px;
    //     color:grey;
    //         &:hover{
    //             &::after {
    //             transform: scaleX(1);
    //             }
    //         }
    //         &::after {
    //         @include pseudo-element;
    //         background-image: linear-gradient(#9356DC, #FF79DA);
    //         background-clip: text;
    //         color:transparent;
    //         z-index: -1;
    //         transform-origin: right;
    //         transform: scaleX(0);
    //         transition: transform 1000ms;
    //         border-radius: 50%;
    //         }
    //     } 
    // }
    /*seconde proposition*/
//      .heart-icon-place { 
//      display:flex; 
//      &_heart-icon {
//         margin-top: 25px;
//         margin-right: 20px;
//         z-index: 1;
//         position: relative;
//         font-size:25px; 
//         color: $color-frequent;
//         background-color: $color-text-secondary;
//         border-radius: 50%;
//         padding: 3px;
//         height: 25px;
//         &::before {
//             content: "\f004";
//             font-weight: bold;
//             transition: color 1s ease-out;
//             }
//         &:hover{
//             &::before{
//             color:#FF79DA;
//             cursor: pointer;
//             }
//         }
//     }
// }
/*troisième proposition*/
// .heart-icon-place { /*autre proposition?*/
//      display:flex; 
//      &_heart-icon {
//      margin-top: 25px;
//      margin-right: 20px;
//      position: relative;
//      font-size:25px; 
//      padding: 3px;
//      height: 25px;
//      z-index:1;
   
//     &:hover{
//       &::after {
//       animation: progress-bar 1s;
//      }
//     }
//      &::after {
//         @include pseudo-element;
//         background-image: linear-gradient(#9356DC, #FF79DA);/*ok*/
//         background-clip: text;/*ok*/
//         color:transparent;/*ok**/
//         color:grey;   /*ok*/
//         font-weight:900; /*ok*/
//         background-size:100% 0%; /*ok*/
//         background-position:bottom;/*ok*/
//         background-repeat: no-repeat;/*ok*/
//         z-index:-1;
//         border-radius: 50%;
//         padding: 3px;
//         height: 25px;
//         }
//     }
// }
//  @keyframes progress-bar {
//     from {
//         background-clip: text;
//         color: transparent;
//         background-size: 100% 0%;
//         }
//    to   {
//         background-clip: text;
//         color: transparent;
//         background-size: 100% 100%;
//         }
//    }


   


    // .heart-icon-place {
    //     font-size:35px;
    //     font-weight:900;
    //     animation: progress-bar 5s infinite;
    //     background-clip: text;
    //     -webkit-text-fill-color: transparent;
    //     background-color: #bc2122;
    //     background-image: linear-gradient(to top, #67A062 0%, #67A062 60%, #bc2122 60%, #bc2122 100%);
    //     background-size: 100% 0%;
    //     background-position:bottom;
    //     background-repeat: no-repeat;
    //   }
      
    //   @keyframes progress-bar {
    //     from {
    //       -webkit-background-clip: text;
    //       -webkit-text-fill-color: transparent;
    //       background-size: 100% 0%;
    //     }
    //     to {
    //       -webkit-background-clip: text;
    //       -webkit-text-fill-color: transparent;
    //       background-size: 100% 100%;
    //     }
    //   }



    
        .footer {
            background-color:$color-text-primary;
            color:$color-frequent;
            padding-left:30px;
            &_logo {
                 /*à travailler : mettre du text en shrikhand à la place de l'image*/
                background-color:white;
            }
            &_field-for-information {
                display:flex;
                color:white;
                &_link {
                    color:$color-frequent;
                    &_icone-place {
                        margin-left:0;
                        margin-right:10px;
                    }
                }
            }
        }/*page restaurant la palette du goût*/
.restaurant {   
    @include border-test;    
    &_image-place {
       height:300px;
        width:100%;
        margin-bottom:-20px;
            &_image {
                object-fit:cover;
                height:100%; 
            } 
    }
    &_presentation {
        @include border-test;   
        align-items: center;
        border-radius:$border-radius-tertiary;
        background-color: $color-frequent;
        &_menu {
            flex-direction:column;
           
            &_heading-place {
                margin-left:10%;
                display: flex;
                flex-direction: row;
                &_heading {
                    font-family:Shrikhand, sans-serif;
                    width:70%;
                    }
                }
            }
        }
     }
     $numb-menu-steps:3;
     $anim-duration:300ms;
     $anim-delay:$anim-duration;
.menu-step {
    margin-left:10%;
    @include border-test;
    // opacity:0;
    animation:opacity-effect 2000ms ease;
    @for $i from 1 through $numb-menu-steps {
        &--#{$i} {
            animation-delay:$anim-delay * $i;
            
        }
    }
    &_heading {
    color:grey;
    position:relative;
    font-size:20px; /*voir pour la grosseur du titre*/
    
    
   
    &::after {
        background-color:$color-tertiary;
        height:5px;
        width:40px;
        content:"";
        position:absolute;
        
        top:23px;
        left:0;
        }
    }
    &_comments-field {
        // align-items: center; 
       
        @include steps;
        display:flex; 
        background-color:$color-frequent;
        align-items: center;
        flex-direction:row;
        width:80%;
        cursor:pointer;
            &:hover{
                & > .menu-step_comments-field_price-selection-field {
                        margin-right:0;
                    & > .menu-step_comments-field_price-selection-field_selection {
                            opacity:1;
                            & > .check-icon {
                                animation:rotation-three-quarters 1000ms 150ms;
                                color:$color-tertiary;
                                background-color:$color-frequent;
                                background-clip: text;
                                flex-shrink:0;
                                border-radius: $border-radius-secondary;
                             }
                    } 
                    
                }
            }
        
        
        // justify-content: space-between;
        &_details {
            display:flex;
            flex-direction: column;
            width:100%;
            overflow:hidden;
               
           
            &_name{ 
                font-size:$font-size-primary*1.1;
                font-weight:bold;
                margin-bottom:0;
                overflow:hidden;
                text-overflow:ellipsis;
                white-space:nowrap;
                
            }
            &_additionnal-information {
                font-size:$font-size-secondary;
                margin-top:5px;
                overflow:hidden;
                text-overflow:ellipsis;
                white-space:nowrap;
            }
        }
        &_price-selection-field {
            display:flex;
            margin-left:0px;
            width:110px;
            height:100%;
            align-items:flex-end;
            border-radius:0px 20px 20px 0px;
            margin-right:-53px;
            justify-content:flex-end;
            &_price {
                display:flex;
                align-items: center;
                justify-content: center;
                height:100%;
                width:55px;
                
            }
            &_selection {
                height:100%;
                background-color:#99E2D0;
                width:55px;
                border-radius:0px 20px 20px 0px;
                display:flex;
                align-items: center;
                justify-content: center;
                opacity:0;
            }
            
        }
        } 
    }
        @keyframes rotation-three-quarters {
            from {
                transform:rotate(270deg);
            }
            to {
                transform:rotate(0deg);
            }
        }
   

        @keyframes opacity-effect {
            0% {
                opacity:0; 
            }
            100% {
                opacity:1;
            }
        }


//    */rajouter un main*/
/*relire les specs et regarder le site en détails*/
 
/*boucle for avec sass pour appliquer l'animation au 3 blocsopacity et annimation delay margin, after pour le soulignage vertcss animation generator : animista margin right sur le prix flow overflow hidden et text overflow word text : no wrap*/
/*revérifier les animations attendues, cursor pointer, la bonne redirection,les clicks avec les tester et supprimer les class inutiles, mettre une pseudo class? combinater, boucle, fonction,condition pour la couleur du texte en fonction du background*/
/*Boutons transform-basis
● Au survol, la couleur de fond des boutons principaux devra légèrement s’éclaircir. ok
L’ombre portée devra également être plus visible.
● À terme, les visiteurs pourront sauvegarder leurs menus préférés. Pour ça, un
bouton "J’aime" en forme de cœur est présent sur la maquette. Au clic, il devra se
remplir progressivement. Pour cette première version, l’effet peut être apparaître au
survol sur desktop au lieu du clic.
Page d’accueil
● Quand l’application aura plus de menus, un “loading spinner” sera nécessaire. Sur
cette maquette, nous souhaitons en avoir un aperçu. Il devra apparaître pendant 1 à
3 secondes quand on arrive sur la page d'accueil, couvrir l'intégralité de l'écran, et
utiliser les animations CSS (pas de librairie). Le design de ce loader n’est pas défini,
toute proposition est donc la bienvenue tant qu’elle est cohérente avec la charte
graphique du site.
Pages de menu
● À l’arrivée sur la page, les plats devront apparaître progressivement avec un léger
décalage dans le temps. Ils pourront soit apparaître un par un, soit par groupe
“Entrée”, “Plat” et “Dessert”. Un exemple de l’effet attendu est fourni.
● Le visiteur peut ajouter les plats qu'il souhaite à sa commande en cliquant dessus.
Cela fait apparaître une petite coche à droite du plat. Cette coche devra coulisser de
la droite vers la gauche. Pour cette première version, l’effet peut apparaître au survol
sur desktop au lieu du clic. Si l’intitulé du plat est trop long, il devra être rogné avec
des points de suspension. Un exemple de l’effet attendu est fourni.
/*après la présentation, charger la nouvelle version de powershell et de vs code*/

/*montrer le visuel: page d'accueil et un responsive, une page menu : un responsive au bout de 5 mn code html : */
@mixin fa-martini-glass-citrus {
    font-size:50px;
    font-weight:bold;
    color: #99E2D0;
}
.loading-spinner {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    z-index: 10;
    position: fixed;
    opacity:0.90;
    background-color: $color-frequent;
    animation: end-loader 5000ms both;
 
   
    &::before {
        position: absolute;
        content: '';
        display: block;
        height: 150px;
        width:200px;
        // border-radius:50%;
        // animation: loading-rotation 2000ms infinite linear; 
        border-radius: 30%;
        border: 5px solid $color-secondary;
        
    }
    & > .fa-martini-glass-citrus--left {
            font-size:50px;
            font-weight:bold;
            animation: loading-spinner-glass-toast 2000ms 100ms infinite linear ;
            color: #99E2D0;  
            animation-iteration-count: 2;
    }
        & > .fa-martini-glass-citrus--right {
            @include fa-martini-glass-citrus;
            animation: loading-spinner-glass-toast-reverse 2000ms 100ms infinite linear reverse;
            animation-iteration-count: 2;
    }    
        
}

@keyframes loading-spinner-glass-toast {
    0% {
		transform: translateX(0%); 
	}
    20% {
		transform: translateX(20%) ;
	}
	40% {
		transform: translateX(40%) ;
	}
    60% {
		transform: translateX(90%);
	}
    90%,100% {
        transform: rotate(-10deg) translateY(20%) ;
    }
    
	100% {
		transform:  translate(90%, 10%) ;
	}
 }
    @keyframes loading-spinner-glass-toast-reverse {
        0% {
            transform: translateX(0%); 
        }
        20% {
            transform: translateX(20%) ;
        }
        40% {
            transform: translateX(40%) ;
        }
        60% {
            transform: translateX(60%);
        }
        90% {
            transform: rotate(10deg) translateY(-20%) 
        }
        90%,100% {
            transform:  translate(90%, 10%)   ;
        }
        
        100% {
            transform:  translate(0%, 0%) ;
         
        }

}
@keyframes end-loader {
    0% {
        opacity: 0.9;
      }
    
    90% 
        {
            opacity: 0.9;
          }
    
    100% {
        opacity: 0;
        display: none;
      }
    }
 
    //   @keyframes jump {
    //     0% {
    //       transform: translateY(0);
    //     }
    //     25% {
    //       transform: translateY(0.5rem);
    //     }
    //     75% {
    //       transform: translateY(-0.5rem);
    //     }
    //     100% {
    //       transform: translateY(0);
    //     }
    //  }
    //  .loader {
    //     position: fixed;
    //     height: 100%;
    //     width: 100%;
    //     left: 0;
    //     top: 0;
    //     align-items:center;
    //     justify-content:center;
    //     background-color: $color-tertiary;
    //     animation: loader 0.01s;
    //     animation-delay: 3s;
    //     animation-fill-mode: both;
    //     z-index: 10000;
    //     display:flex;
        
      
    //     &__item {
    //       height: 1rem;
    //       width: 1rem;
    //       border-radius: 1rem;
    //       animation: jump 1s;
    //       animation-iteration-count: 3;
      
    //       &Container {
    //         display: flex;
    //         width: 5rem;
    //         justify-content: space-between;
    //       }
      
    //       &--1 {
    //         background-color: $color-primary;
    //       }
      
    //       &--2 {
    //         background-color: $color-secondary;
    //         animation-delay: 0.25s;
    //       }
      
    //       &--3 {
    //         background-color: $color-tertiary;
    //         animation-delay: 0.5s;
    //       }
    //     }
    //  }
    // .loading
    // {
    //   display: block;
    //   position: fixed;
    //   width: 100%;
    //   height: 100%;
    //   z-index: 10;
    //   /*ici tout ce qui concerne votre background linear gradient*/
    //   background-color: lightgrey;
    //   animation: hideLoader 3500ms 1 forwards;
    //   animation-delay: 1500ms;
    // }
 
    // .loading::after
    // {
    //   content : "";
    //   display: block;
    //   position: absolute;
    //   top: 50%;
    //   left: 50%;
    //   transform: translate(-50%,-50%);
    //   /*ici votre design de bordure */
    //   width: 50px;
    //   height: 50px;
    //   border: black solid 5px;
    //   border-top-color: red;
    //   border-bottom-color: red;
    //   border-radius: 50%;
    //   animation: spin 1s linear infinite;
    // }
 
    // @keyframes hideLoader
    // {
    //   100%
    //   {
    //     opacity: 0;
    //     display: none;
    //   }
    // }
 
    // @keyframes spin
    // {
    //   100%
    //   {
    //     transform: translate(-50%,-50%) rotate(360deg);
    //   }
    // }
 